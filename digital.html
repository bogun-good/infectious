<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë””ì§€í„¸ ì„±í­ë ¥ í€´ì¦ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .quiz-option {
            transition: background-color 0.3s, transform 0.2s;
        }
        .quiz-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .correct {
            background-color: #28a745 !important;
            color: white;
            border-color: #28a745;
        }
        .incorrect {
            background-color: #dc3545 !important;
            color: white;
            border-color: #dc3545;
        }
        #bomb {
            font-size: 5rem;
            transition: transform 0.2s ease-in-out;
        }
        .explode {
            animation: shake 0.5s, explode-effect 0.5s 0.5s forwards;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
        @keyframes explode-effect {
            from {
                transform: scale(1);
                opacity: 1;
            }
            to {
                transform: scale(5);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="bg-gray-200 flex items-center justify-center min-h-screen">

    <div id="quiz-container" class="w-full max-w-[748px] mx-auto bg-white rounded-xl shadow-2xl p-6 md:p-10 text-center">
        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="start-screen">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">ë””ì§€í„¸ ì„±í­ë ¥ ì˜ˆë°© í€´ì¦ˆ</h1>
            <p class="text-gray-600 mb-8">ì£¼ì–´ì§„ ì‹œê°„ ì•ˆì— í€´ì¦ˆë¥¼ í’€ì–´ë³´ì„¸ìš”. <br>ì‹œê°„ì´ ì´ˆê³¼ë˜ê±°ë‚˜ í‹€ë¦¬ë©´ í­íƒ„ì´ í„°ì§‘ë‹ˆë‹¤!</p>
            <div class="text-6xl mb-8">ğŸ’£</div>
            <button id="start-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg text-xl transition-transform transform hover:scale-105">
                í€´ì¦ˆ ì‹œì‘í•˜ê¸°
            </button>
        </div>

        <!-- í€´ì¦ˆ í™”ë©´ -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-center mb-6">
                <div id="timer" class="text-2xl font-bold bg-gray-200 rounded-full w-16 h-16 flex items-center justify-center">10</div>
                <div id="bomb">ğŸ’£</div>
                <div class="text-xl font-bold text-gray-700">
                    <span id="current-question-num">1</span> / <span id="total-questions">10</span>
                </div>
            </div>
            <div id="question-container" class="mb-6">
                <h2 id="question-text" class="text-2xl font-semibold text-gray-800 mb-6 min-h-[100px]"></h2>
                <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- ì„ íƒì§€ ë²„íŠ¼ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë  ì˜ì—­ -->
                </div>
            </div>
            <div id="feedback-container" class="mt-6">
                <p id="feedback-text" class="text-2xl font-bold"></p>
                <button id="next-btn" class="hidden mt-4 w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105">
                    ë‹¤ìŒ ë¬¸ì œ
                </button>
            </div>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div id="result-screen" class="hidden">
            <h1 class="text-4xl font-bold text-gray-800 mb-4">í€´ì¦ˆ ê²°ê³¼</h1>
            <div class="mb-8">
                <p class="text-2xl text-blue-600 font-semibold">ì •ë‹µ: <span id="correct-count">0</span>ê°œ</p>
                <p class="text-2xl text-red-600 font-semibold">ì˜¤ë‹µ: <span id="incorrect-count">0</span>ê°œ</p>
            </div>
            <div id="result-details" class="text-left space-y-4">
                <!-- ê²°ê³¼ ìƒì„¸ ë‚´ìš©ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë  ì˜ì—­ -->
            </div>
            <button id="restart-btn" class="mt-8 w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg text-xl transition-transform transform hover:scale-105">
                ë‹¤ì‹œ í’€ì–´ë³´ê¸°
            </button>
        </div>
    </div>

    <script>
        // --- í€´ì¦ˆ ë°ì´í„° ---
        const quizData = [
            {
                question: "ì¹œêµ¬ê°€ ì‹«ë‹¤ê³  í–ˆëŠ”ë° ì¥ë‚œìœ¼ë¡œ ì‚¬ì§„ì„ ì°ì–´ ë³´ëƒˆë‹¤ë©´, ì´ í–‰ë™ì€?",
                options: [
                    { text: "ì¬ë°ŒëŠ” ì¥ë‚œì´ë‹¤", correct: false },
                    { text: "ê·¸ëƒ¥ ì¹œêµ¬ ì‚¬ì´ì— í•  ìˆ˜ ìˆëŠ” ì¼ì´ë‹¤", correct: false },
                    { text: "ìƒëŒ€ë°©ì´ ì‹«ë‹¤ê³  í–ˆëŠ”ë° í•˜ë©´ ì˜ëª»ëœ í–‰ë™ì´ë‹¤", correct: true },
                    { text: "ë‚˜ë§Œ ë³´ê¸° ë•Œë¬¸ì— ê´œì°®ë‹¤", correct: false }
                ]
            },
            { 
                question: "ëˆ„êµ°ê°€ì˜ ì–¼êµ´ ì‚¬ì§„ì„ í—ˆë½ ì—†ì´ ë‹¨ì²´ ì±„íŒ…ë°©ì— ì˜¬ë¦¬ëŠ” í–‰ë™ì€?",
                options: [
                    { text: "ì¬ë¯¸ìˆëŠ” ê³µìœ ", correct: false },
                    { text: "ë””ì§€í„¸ ì„±í­ë ¥ì´ ë  ìˆ˜ ìˆë‹¤", correct: true },
                    { text: "ì¸ê¸° ìˆëŠ” ì¹œêµ¬ ë§Œë“¤ê¸°", correct: false },
                    { text: "ë‹¤ ê°™ì´ ë³´ë ¤ê³  í•˜ëŠ” ê±°ë‹ˆê¹Œ ê´œì°®ë‹¤", correct: false }
                ]
            },
            {         
                question: "ì¹œêµ¬ì—ê²Œ ì„±ì ì¸ ê·¸ë¦¼ì´ë‚˜ ê¸€ì„ ë³´ì—¬ì£¼ëŠ” ê²ƒì€?",
                options: [
                    { text: "ì¥ë‚œ", correct: false },
                    { text: "ì›ƒê¸´ ì´ì•¼ê¸°", correct: false },
                    { text: "ë””ì§€í„¸ ì„±í­ë ¥", correct: true },
                    { text: "ê³µë¶€ì˜ ì¼ë¶€", correct: false }
                ]
            },
            {
                question: "ì¹œêµ¬ì˜ ëª¨ìŠµì„ ëª°ë˜ ì´¬ì˜í•˜ëŠ” ê±´ ì–´ë–¤ í–‰ë™ì¸ê°€ìš”?",
                options: [
                    { text: "ì¶”ì–µ ë‚¨ê¸°ê¸°", correct: false },
                    { text: "ì¥ë‚œì´ë‹ˆê¹Œ ê´œì°®ë‹¤", correct: false },
                    { text: "ë¶ˆë²• ì´¬ì˜ì€ ë²”ì£„ê°€ ë  ìˆ˜ ìˆëŠ” í–‰ë™ì´ë‹¤", correct: true },
                    { text: "SNS ì˜¬ë¦´ ìš©ë„ë‹ˆê¹Œ ìƒê´€ì—†ë‹¤", correct: false }
                ]
            },
            {
                question: "ë‹¤ìŒ ì¤‘ ë””ì§€í„¸ ì„±í­ë ¥ í”¼í•´ë¥¼ ì…ì—ˆì„ ë•Œ ê°€ì¥ ë°”ëŒì§í•œ í–‰ë™ì€?",
                options: [
                    { text: "ê·¸ëƒ¥ ì°¸ëŠ”ë‹¤", correct: false },
                    { text: "ê°€í•´ìì—ê²Œ ì§ì ‘ ë”°ì§„ë‹¤", correct: false },
                    { text: "í˜¼ì í•´ê²°í•˜ë ¤ í•˜ì§€ ë§ê³  ë¶€ëª¨ë‹˜, ì„ ìƒë‹˜, ê²½ì°° ë“±ì— ì¦‰ì‹œ ë„ì›€ì„ ìš”ì²­í•´ì•¼ í•©ë‹ˆë‹¤", correct: true },
                    { text: "ì¸í„°ë„·ì— í”¼í•´ ì‚¬ì‹¤ì„ ì˜¬ë¦°ë‹¤", correct: false }
                ]
            },
            {
                question: "ë””ì§€í„¸ ì„±í­ë ¥ì„ í•˜ì§€ ì•Šìœ¼ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?",
                options: [
                    { text: "ì¬ë¯¸ìˆìœ¼ë©´ ë‹¤ í•´ë„ ëœë‹¤", correct: false },
                    { text: "ë‹¤ë¥¸ ì‚¬ëŒì˜ ì…ì¥ì„ ë¨¼ì € ìƒê°í•œë‹¤", correct: true },
                    { text: "ì„ ìƒë‹˜ ëª°ë˜ í•´ì•¼ í•œë‹¤", correct: false },
                    { text: "ë‹¤ë“¤ í•˜ë‹ˆê¹Œ ë”°ë¼í•œë‹¤", correct: false }
                ]
            },
            {
                question: "ìƒëŒ€ë°©ì´ ë¶ˆì¾Œí•´í•˜ê±°ë‚˜ ë¯¼ë§í•´í•˜ëŠ” ì„±ì ì¸ ë†ë‹´ì„ ê³„ì†í•œë‹¤ë©´?",
                options: [
                    { text: "ê·¸ëƒ¥ ì›ƒìê³  í•œ ë§ì´ë‹ˆê¹Œ ê´œì°®ë‹¤", correct: false },
                    { text: "ì¹œí•œ ì‚¬ì´ë‹ˆê¹Œ ì•„ë¬´ ë§ í•´ë„ ëœë‹¤", correct: false },
                    { text: "ìƒëŒ€ë°©ì´ ë¶ˆì¾Œí•˜ë©´ ì„±í¬ë¡±ì´ë‚˜ ë””ì§€í„¸ ì„±í­ë ¥ì´ ë  ìˆ˜ ìˆë‹¤", correct: true },
                    { text: "ëª¨ë‘ê°€ ì›ƒì—ˆìœ¼ë‹ˆ ë¬¸ì œ ì—†ë‹¤", correct: false }
                ]
            },
            {
                question: "ëˆ„êµ°ê°€ ë¶ˆë²• ì´¬ì˜ë¬¼ì„ ì¸í„°ë„·ì— ì˜¬ë ¸ë‹¤ê³  í•  ë•Œ, ê·¸ ì˜ìƒì„ ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ì „ë‹¬í•˜ëŠ” ê²ƒì€?",
                options: [
                    { text: "ê·¸ëƒ¥ ë³´ì—¬ì£¼ê¸°ë§Œ í•œ ê±°ë‹ˆê¹Œ ê´œì°®ë‹¤", correct: false },
                    { text: "ì´ë¯¸ í¼ì§„ ì˜ìƒì´ë‹ˆê¹Œ ìƒê´€ì—†ë‹¤", correct: false },
                    { text: "ë¶ˆë²• ì´¬ì˜ë¬¼ ìœ í¬ì— í•´ë‹¹í•  ìˆ˜ ìˆë‹¤", correct: true },
                    { text: "ì¹œêµ¬ë“¤ê³¼ ì¬ë¯¸ë¡œ ë³´ëŠ” ê±´ ë¬¸ì œ ì—†ë‹¤", correct: false }
                ]
            },
            {
                question: "ì¸í„°ë„·ì—ì„œ ì•Œê²Œ ëœ ì‚¬ëŒì´ ë‚˜ì˜ ì–¼êµ´ì´ë‚˜ ëª¸ì„ ì°ì€ ì‚¬ì§„ì„ ë³´ë‚´ë‹¬ë¼ê³  í•˜ë©´?",
                options: [
                    { text: "ê·¸ëƒ¥ í•´ì¤˜ë„ ëœë‹¤", correct: false },
                    { text: "ê¶ê¸ˆí•  ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ ë³´ë‚´ì¤€ë‹¤", correct: false },
                    { text: "ë°”ë¡œ ê±°ì ˆí•˜ê³ , ìœ„í—˜í•œ í–‰ë™ì´ë¯€ë¡œ ì–´ë¥¸ì—ê²Œ ì•Œë¦°ë‹¤", correct: true },
                    { text: "ì¹œêµ¬í•œí…Œ ìë‘í•œë‹¤", correct: false }
                ]
            },
            {
                question: "ë””ì§€í„¸ ì„±í­ë ¥ í”¼í•´ì„ ì…ì—ˆì„ ë•Œ ì‹ ê³ ë‚˜ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆëŠ”  ê³³ì€?",
                options: [
                    { text: "ì§ˆë³‘ê´€ë¦¬ì²­ ", correct: false },
                    { text: "ë””ì§€í„¸ì„±ë²”ì£„ í”¼í•´ì ì§€ì›ì„¼í„°, ê²½ì°°ì²­ì‚¬ì´ë²„ë²”ì£„ì‹ ê³ ì„¼í„°", correct: true },
                    { text: "í•œêµ­ë„ë¡œê³µì‚¬", correct: false },
                    { text: "ì†Œë°©ì„œ 119", correct: false }
                ]
            }
        ];

        // --- DOM ìš”ì†Œ ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const nextBtn = document.getElementById('next-btn');

        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const timerEl = document.getElementById('timer');
        const bombEl = document.getElementById('bomb');
        const feedbackText = document.getElementById('feedback-text');
        
        const currentQuestionNumEl = document.getElementById('current-question-num');
        const totalQuestionsEl = document.getElementById('total-questions');
        const correctCountEl = document.getElementById('correct-count');
        const incorrectCountEl = document.getElementById('incorrect-count');
        const resultDetailsEl = document.getElementById('result-details');

        // --- í€´ì¦ˆ ìƒíƒœ ë³€ìˆ˜ ---
        let currentQuestionIndex = 0;
        let score = 0;
        let timer;
        let timeLeft = 10;
        let userAnswers = [];
        let explosionSound;

        // --- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ---
        startBtn.addEventListener('click', startQuiz);
        nextBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', () => {
             // Reset and start again
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            resultScreen.classList.add('hidden');
            startQuiz();
        });

        // --- ì†Œë¦¬ ìƒì„± ---
        function setupSound() {
            // Tone.jsê°€ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
            if (typeof Tone !== 'undefined' && Tone.context.state !== 'running') {
                Tone.start();
            }
            // ê¸°ì¡´ NoiseSynthë¥¼ ë” í¬ê³  ì‹¤ê° ë‚˜ëŠ” ì†Œë¦¬ë¡œ ë³€ê²½
            explosionSound = new Tone.NoiseSynth({
                noise: { type: 'pink' }, // Pink ë…¸ì´ì¦ˆë¡œ ë” í’ë¶€í•œ ì†Œë¦¬
                envelope: {
                    attack: 0.01,   // ë¹ ë¥¸ ê³µê²©ìœ¼ë¡œ íƒ€ê²©ê° ì¦ê°€
                    decay: 0.8,    // ë” ê¸´ ê°ì‡ ë¡œ ì—¬ìš´ê³¼ ëŸ¼ë¸” ì¦ê°€
                    sustain: 0,
                    release: 0.2 // ì§§ì€ ë¦´ë¦¬ì¦ˆ
                }
            }).chain(
                new Tone.Filter(150, 'lowpass'), // ì €ì—­ í†µê³¼ í•„í„°ë¡œ ê¹Šì€ ë² ì´ìŠ¤ ê°•ì¡°
                new Tone.Volume(-5) // ë³¼ë¥¨ì„ ë†’ì—¬ ë” í¬ê²Œ ë“¤ë¦¬ë„ë¡ ì¡°ì • (-5dB)
            ).toDestination();
        }

        function playExplosion() {
            if (explosionSound) {
                 explosionSound.triggerAttackRelease("0.5"); // ì†Œë¦¬ ì¬ìƒ ì‹œê°„ë„ ì¡°ê¸ˆ ë” ê¸¸ê²Œ
            }
            bombEl.classList.add('explode');
            setTimeout(() => {
                bombEl.classList.remove('explode');
                bombEl.style.transform = 'scale(1)';
                bombEl.style.opacity = '1';
            }, 1000);
        }

        // --- í€´ì¦ˆ ë¡œì§ ---
        function startQuiz() {
            setupSound();
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            totalQuestionsEl.textContent = quizData.length;
            loadQuestion();
        }

        function loadQuestion() {
            resetState();
            const currentQuestion = quizData[currentQuestionIndex];
            questionText.textContent = currentQuestion.question;
            currentQuestionNumEl.textContent = currentQuestionIndex + 1;
            
            // ì„ íƒì§€ ì„ê¸°
            const shuffledOptions = [...currentQuestion.options].sort(() => Math.random() - 0.5);

            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option.text;
                button.classList.add('quiz-option', 'w-full', 'p-4', 'border-2', 'rounded-lg', 'text-lg', 'bg-gray-50', 'hover:bg-gray-200');
                button.addEventListener('click', () => selectAnswer(option, button));
                optionsContainer.appendChild(button);
            });

            startTimer();
        }

        function resetState() {
            clearTimeout(timer);
            optionsContainer.innerHTML = '';
            feedbackText.textContent = '';
            nextBtn.classList.add('hidden');
            timeLeft = 10;
            timerEl.textContent = timeLeft;
            timerEl.classList.remove('text-red-500');
        }

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                timerEl.textContent = timeLeft;
                if (timeLeft <= 3) {
                    timerEl.classList.add('text-red-500');
                }
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    handleTimeout();
                }
            }, 1000);
        }

        function handleTimeout() {
            userAnswers.push({ questionIndex: currentQuestionIndex, answer: 'ì‹œê°„ ì´ˆê³¼', correct: false });
            feedbackText.textContent = 'ì‹œê°„ ì´ˆê³¼! ğŸ’£';
            feedbackText.classList.add('text-red-500');
            playExplosion();
            showCorrectAnswer();
            disableOptions();
        }

        function selectAnswer(selectedOption, button) {
            clearInterval(timer);
            disableOptions();

            const isCorrect = selectedOption.correct;
            userAnswers.push({ questionIndex: currentQuestionIndex, answer: selectedOption.text, correct: isCorrect });
            
            if (isCorrect) {
                score++;
                button.classList.add('correct');
                feedbackText.textContent = 'ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰';
                feedbackText.classList.add('text-green-500');
                feedbackText.classList.remove('text-red-500');
            } else {
                button.classList.add('incorrect');
                feedbackText.textContent = 'ì˜¤ë‹µì…ë‹ˆë‹¤! ğŸ’¥';
                feedbackText.classList.add('text-red-500');
                feedbackText.classList.remove('text-green-500');
                playExplosion();
                showCorrectAnswer();
            }
            
            if (currentQuestionIndex < quizData.length - 1) {
                nextBtn.textContent = 'ë‹¤ìŒ ë¬¸ì œ';
            } else {
                nextBtn.textContent = 'ê²°ê³¼ ë³´ê¸°';
            }
            nextBtn.classList.remove('hidden');
        }
        
        function disableOptions() {
            Array.from(optionsContainer.children).forEach(btn => {
                btn.disabled = true;
                btn.classList.add('opacity-70', 'cursor-not-allowed');
            });
        }

        function showCorrectAnswer() {
             const correctOptionData = quizData[currentQuestionIndex].options.find(opt => opt.correct);
             Array.from(optionsContainer.children).forEach(btn => {
                if (btn.textContent === correctOptionData.text) {
                    btn.classList.add('correct');
                }
             });
             if (currentQuestionIndex < quizData.length - 1) {
                nextBtn.textContent = 'ë‹¤ìŒ ë¬¸ì œ';
            } else {
                nextBtn.textContent = 'ê²°ê³¼ ë³´ê¸°';
            }
            nextBtn.classList.remove('hidden');
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            correctCountEl.textContent = score;
            incorrectCountEl.textContent = quizData.length - score;

            resultDetailsEl.innerHTML = ''; // Clear previous results
            quizData.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const correctOption = question.options.find(opt => opt.correct).text;
                
                const resultItem = document.createElement('div');
                resultItem.classList.add('p-4', 'rounded-lg');
                
                let answerStatus;
                if (userAnswer.correct) {
                    resultItem.classList.add('bg-green-100');
                    answerStatus = `<span class="font-bold text-green-700">ì •ë‹µ</span>`;
                } else {
                     resultItem.classList.add('bg-red-100');
                    answerStatus = `<span class="font-bold text-red-700">ì˜¤ë‹µ</span>`;
                }
                
                resultItem.innerHTML = `
                    <p class="font-bold text-gray-800">${index + 1}. ${question.question}</p>
                    <p class="text-sm text-gray-600">ì„ íƒí•œ ë‹µ: ${userAnswer.answer}</p>
                    <p class="text-sm text-gray-600">ì •ë‹µ: ${correctOption}</p>
                    <div class="mt-1">${answerStatus}</div>
                `;
                resultDetailsEl.appendChild(resultItem);
            });
        }

        window.onload = setupSound; // Ensure sound is ready on first interaction
    </script>

</body>
</html>
